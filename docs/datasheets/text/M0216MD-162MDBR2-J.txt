M0216MD-162MDBR2-J

Vacuum Fluorescent Display Module

RoHS Compliant

Newhaven Display International, Inc.
2661 Galvin Ct.
Elgin IL, 60124
Ph: 847-844-8795 Fax: 847-844-8796

 

www.newhavendisplay.com
nhtech@newhavendisplay.com nhsales@newhavendisplay.com

 

 

 

 
Document Revision History

 

 

 

 

 

 

 

 

 

 

 

 

 

Revision Date Description Changed by
0 5/4/01 Initial Release -
1 3/18/02 Eliminate exhaust from glass design -
2 11/19/05 Convert to RoHS Pb-free components -
3 2/24/06 Sumida 134752B —EOL, convert to new power supply 134752C. -

Current consumption increases from (170mA TYP ~230mA MAX) to
(350mA TYP ~ 400mA MAX)
4 5/25/10 User Guide Reformat BE
5 6/8/10 High level input current added, controller name added BE
6 2/1/19 Character Height Fixed SB
1. SCOPE

This specification applies to VFD module (Model No: M0216MD-162MDBR2-)).
2. FEATURES

a. Since a DC/DC converter is used, only +5Vdc power source is required to operate the module.
b. High quality display and luminance
ASCII and Japanese characters (CG-ROM font).

3. GENERAL DESCRIPTIONS

This specification becomes effective after being approved by the purchaser.
When any conflict is found in the specification, appropriate action should be taken upon
agreement of both parties.

Cc.

a.
b.

The expected necessary service parts should be arranged by the customer before the completion

of production.

4. PRODUCT SPECIFICATIONS

 

 

 

 

 

 

 

 

 

 

4.1 Type Table 1
Type M0216MD-162MDBR2-J
Digit Format 5x7 Dot with Cursor
Controller PT6314

4.2 Outer Dimensions (See Fig 7 for details) Table 2
Parameter Specifications Unit
Outer Width 122.0 +- 1.0 mm
Dimensions Height 44.0 +- 1.0 mm
Thickness 20.2 Max mm

 

 

 

 

 

[2]

 

 

 
 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

4.3 Specifications of the Display Panel Table 3
Parameter Specification Unit
Display Size (W*H) 82.7*19 mm
Number of Digit 16 Digits*2 Line -
Character Size  (W*H) 3.85*9.22 mm
Character Pitch 3.85*8.03 mm
Dot Size 0.89*0.53 mm
Display Color Blue-Green (505 nm) -
4.4 Environment Conditions Table 4
Parameter Symbol Min. Max. Unit
Operating Temperature Topr -40 +85 °C
Storage Temperature Tstg -50 +95 °C
Humidity (Operating) Hopr 0 85 %
Humidity (Non-operating) Hstg 0 90 %
Vibration (10 ~ 55 Hz) - - 4 G
Shock - - 40 G
4.5 Absolute Maximum Ratings Table 5
Parameter Symbol Min. Max. Unit
Supply Voltage Vcc -0.5 5.5 Vde
Input Signal Voltage Vis -0.5 5.5 Vdc
4.6 Recommend Operating Conditions Table 6
Parameter Symbol Min. Typ. Max. Unit
Supply Voltage Vcc 4.5 5.0 5.5 Vde.
Signal (Logic) Input Voltage Vis 0 - Vcc Vdc
4.7. DC Characteristics (Ta=+25°C, Vcec=+5.0Vdc) Table 7
Parameter Symbol Min. Typ. Max. Unit
Supply Current Icc - 350 400 mA
High Level input current IH 20 - 500 UA
Logic Input “H” Level Vih 0.7*Vcc - - Vdc
Voltage “L” Level Vil - - 0.3*Vcc Vdc
Luminance L 100 200 - Ft-L
(cd/m2)

 

 

 

 

 

 

[3]

 

 

 

 

 
4.8 Timing Chart and AC Characteristics
4.8.1 Power-on Reset and /or REST Signal Timing
Tr(Vec)
Max Ims
r4.5V

 

Twait
Min 500ns

 

 

 

 

 

Treset

 

/RST

Note) Twait Internal Reseting Time

Fig-!| Power-on Reset and RESET signal Timing

4.8.2 180 type CPU bus write in Timing

ns x

Th(RS)
Tstr(RS) Teyc(/WR) Min 10ns |

Min 10ns >t} Min 200ns

 

 

 

 

 

 

 

 

  

 

Teel (/WR)
/WR Min 30ns "|

  

 

 

 

Min 100ns
| ‘ Tds(data) . | a Thw(data)
Min 30ns Min 10ns

 

DBO0-DB7 VALID

 

 

 

 

Fig —2 Data write-in Timing Diagram

[4]
4.8.3 i80 type CPU bus read-out Timing

Rs a

 

 

 

 

   

 

 

 

 

 

 

 

 

 

 

 

 

 

Tsu(RS) TA(RS) gp

Min loa? <.— < TCYC(RD) Min 10ns
/RD <4 Tw1(RD) Min 166ns > f whURD)

Min 70ns in 70ns
Tacc (DATA) p> |—_thw
Min 70ns Min Sns
VALID

DB0-DB7

 

 

 

Fig-3 Dada Read-out Timing Diagram (i80 bus interface)

4.8.4 M68 type CPU bus write in timing

Tsh(rs, r/w) TH

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

—$—_<_——
R/W Min 20ns Min lonel //
RS xX
Twl (E)
E Twh
Min 230ns Min 230ns
Teye THWR (DATA)
7 Win 80ns = ‘iin 10ns
DBO-DB7 VALID
Tsu (data)
Min 80ns

[5]
Fig-4 Data write-in Timing Diagram(M68 bus interface)
4.8.5 M68 type CPU bus read-out Timing

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

R/W Tsh(rs.r/w) Th
——_ ‘ ,
Min 20ns Min 10ns
RS
< Twh >
Ey Twl (E) Min 230ns 4 Thrd
Min 230ns Min Sns
_ Tcyc x
Max 160ns
DB0-DB7 Tdl
Max 160 hs

 

 

Fig-5 Data read-out Timing Diagram (M68)

4.8.6 SYNCHRONOUS SERIAL INTERFACE MODE

In the synchronous serial interface mode, instructions and data are sent between the host and the module using 8-bit
bytes. Two bytes are required per read/write cycle and are transmitted MSB first. The start byte contains 5 high bits, the
Read/Write (R/W) control bit, the Register Select (RS) control bit, and a low bit. The following byte contains the
instruction/data bits. The R/W bit determines whether the cycle is a read (high) or a write(low) cycle. The RS bit is used
to identify the second byte as an instruction (low) or data(high).This mode uses the Strobe (STB) control signal, Serial
Clock (SCK) input, and Serial |/O(SI/SO) line to transfer information. In a write cycle, bits are clocked into the module on
the rising edge of SCK. In a read cycle, bits in the start byte are clocked into the module on the rising edge of SCK. After
the minimum wait time, each bit in the instruction/data byte can be read from the module after each falling edge of
SCK. Each read/write cycle begin son the falling edge of STB and ends on the rising edge. To be a valid read/write cycle,
the STB must go high at the end of the cycle.

[6]
 

 

 

ke——— Start Byte ote Instruction / Data —

Typical Synchronous Serial Interface Write Cycle

 

 

 

Instruction / Data — |

+————- start Byte =<

Typical Synchronous Serial Interface Read Cycle
4.8.7 14pin Connector - Fourteen (14) of through holes are prepared for power supply and data communications.
A connector or pins may be able to soldered to the holes.

 

 

 

 

 

 

 

 

 

Table 8

Pin Serial Parallel Parallel | Pin Serial Parallel Parallel
No. (Intel) (Motorola) | No. (Intel) (Motorola)
1 GND GND GND 2 Vee Vec Vee

3 SISO NC NC 4 STB RS RS

S NC WR/ R/W 6 SCK RD/ E

7 NC DBO DBO 8 NC DBI DB1

9 NC DB2 DB2 10 NC DB3 DB3
11 NC DB4 DB4 12 NC DBS DBS

13 NC DB6 DB6 14 NC DB7 DB7

 

 

 

 

 

 

 

 

 

NC = No Connection

4.8.7 Jumper links
Some jumper are prepared on the PCB board, to set operating mode of the display module.
A soldering iron is required to short jumper.
When jumper link JP2 is soldered, these inputs change to i80 series CPU contro! lines.
Pin 5 = /WR Pin 6 =/RD . (#Interface M68/i80)
This is normally open circuit. If pads JPl.1 and JP1.2 are linked. Pin 3 = /Reset.
(Pin 3 (Fnc) Input )

[7]
4.8.8 Mechanical Drawing

i

!

 

 

 

lee

 

 

L115

 

 

 

 

108

 

 

SNALY SAK SARL
S \

booogogobao oooooooo

nooooooo oooooooo

obooobobobno cooooooo
BbOoogggao oooooooo
Bbooogobbnbo ocooooooo
Bbooobobobnao oooooooo
Booooooeo oooooooo

booogogobnao cooooooo
Bbooogogggo ocooooooo

Booooobono oooooooo

booogogobao oooooooo
Bbooogobbnbo ocooooooo
BbOoogggao oooooooo
BOOS5GHo ooooobooo
Booooobeo oooooooo

obooobobobno cooooooo

Booooobono oooooooo

booogogobnao cooooooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
Booooobono oooooooo

booogogobao oooooooo
Bbooogobbnbo ocooooooo
BbOoogggao oooooooo
BOOS5GHo ooooobooo
Booooobeo oooooooo

obooobobobno cooooooo
Bboogggbnbo ocooooooo
Bbooogogggo ocooooooo
Bboogggbnbo ocooooooo
Booooobono oooooooo

booogogobnao cooooooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
Booooobono oooooooo

booogogobao oooooooo
Bbooogobbnbo ocooooooo
Bbooobobobnao oooooooo
Bbooobobobnao oooooooo
Booooooeo oooooooo

obooobobobno cooooooo
Bboogggbnbo ocooooooo
Bbooogogggo ocooooooo
Bboogggbnbo ocooooooo
Booooobono oooooooo

booogogobao oooooooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
Booooobono oooooooo

obooobobobno cooooooo
BbOoogggao oooooooo
Bbooogobbnbo ocooooooo
Bbooobobobnao oooooooo
Booooooeo oooooooo

obooobobobno cooooooo
Bboogggbnbo ocooooooo
BOOS5GHo ooooobooo
BOOS5GHo ooooobooo
Booooobono oooooooo

obooobobobno cooooooo

nooooooo oooooooo

obooobobobno cooooooo
Bbooobobobnao oooooooo
Bboogggbnbo ocooooooo
Bbooogogggo ocooooooo
Booooooeo oooooooo

 

 

 

LOTH

 

 

9099990999000 GQ

33,02
Pe 54x13

 

14

LI

a

 

 

 

 

 

 

Te

 

 

 

Le

 

 

VV

 

 

 

 

 

 

 

!

Fig 5

FUNCTION DESCRIPTIONS
1.1 Registers in VFD Controller

1.

The VFD controller has two 8-bit registers, an instruction register (IR) and a data register (DR). IR stores

instruction codes, such as display clear and cursor shift, and address information for DD-RAM and CG-RAM. The
IR can only be written from the host MPU. DR temporarily stores data to be written into DD-RAM or CG-RAM
and temporarily stores data to be read from DD-RAM or CG-RAM by an internal operation. The DR is also used

for data storage when reading data from DD-RAM or CG-RAM. When address information is written into the IR,

data is read and then stored into the DR from DD-RAM or CG-RAM by internal operation. Data transfer between
MPU is then completed when the MPU reads the DR. After the read, data in DD-RAM or CG-RAM at the next
address is sent to the DFR for the next read from the MPU. By the register selector (RS) signal, these two

registers can be selected (See Table 8).

[8]
Table-8 Register Selection

 

 

 

 

 

 

 

 

 

 

 

 

 

M68 is0 .
RS Operation
RW | /RD | /WR
0 0 1 0 IR write as an internal operation (display clear, etc.)
0 1 0 1 Read busy flag (DB7) and address counter (DBO to DB6)
1 0 1 0 DR write as an internal operation (DR to DDRAM or CGRAM)
1 1 0 1 DR read as an internal operation (DDRAM or CGRAM to DR)
5.1.1 Busy Flag (BF)

When the busy flag is 1, the controller is in the internal operation mode, and the next instruction
will not be accepted. When RS = 0 and R/W = 1 (Table-8), the busy flag is output to DB7.
The next instruction must be written after ensuring that the busy flag is 0.

5.1.2 Address Counter (ACC)

The address counter (ACC) assigns addresses to both DD-RAM and CG-RAM. When an address
of an instruction is written into the IR, the address information is sent from the IR to the ACC.
Selection of either DD-RAM or CG-RAM is also determined concurrently by the instruction.

After writing into (reading from) DD-RAM or CG-RAM, the ACC is automatically incremented by 1
(decremented by 1). The ACC contents are then output to DBO to DB6 when RS = 0 and

RIW = 1 (See Table-8).

5.1.3 Display Data RAM (DD-RAM)

Display data RAM (DD-RAM) stores display data representedin 8-bit character codes.
The area in DD-RAM that is not used for display can be used as general data RAM.
See Table 9 for the relationships between DD-RAM addresses and positions on the VFD.

Table_9 Relation between Digit Position and DD-RAM data

 

 

 

 

 

Left End | 2nd Column] 3rd Column | *****e** 19th Column} Right End
Ist Row 00 Hex O1 Hex 02 Hex seeeeeae 12 Hex 13 Hex
2nd Row 40 Hex 41 Hex 42 Hex seeeeees 52? Hex 53 Hex

 

 

 

 

 

 

5.1.4 Character Generator ROM (CG-ROM)

The character generator ROM (CG-ROM) generates character patterns of 5X7 dots from &-bit
character codes (Table-10). It can generate 240 kinds of 5X7 dot character patterns.

The character fonts are shown on the following page. The character codes OOH fo OFH are
allocated to the CG-RAM

[9]

 
 

5.1.5 Character Generator RAM (CG-RAM) 1]lol3lals
In the character generator RAM (CG-RAM), the user can
rewrite character patterns by program. 6 ]7 |8]9 710
For 5X7 dots and cursor, eight character patterns can be qilizliz44445
written. Write into DD-RAM the character codes at the
addresses shown as the left column of Table-10 to show 16 [17 [18 ]19 | 20
the character patterns stored in CG-RAM. 21) 22 )23 [24]25
See Table-11 for the relationship between CG-RAM
addresses and data and display patterns and refer to 26 127128 [29 | 30
Fig-10 for dot assignment of VFD. 31] 32) 33 ] 34] 35
Areas that are not used for display can be used 36
as general data RAM.

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Fig-I0 Dot Assignment

Table-10 Characters Font Table (CG-ROM)and CG-RAM codes

[10]
 

re oS oS opt

x

 

= Ss es ©

ut|P

AP \é

4| 30

i

 

SS CO re

=
rat
™

 

= = CO OC

 

= OK ee

-|F

 

= CO Ke ©

 

= CO CO ee

 

a OO ©

 

— ee

 

orr ©

 

or orn

 

or oO ©

HaliP) ‘FIA

 

Co OC Ke

KZ ZU dizi

 

oon &

1}/2/)/3)4/)5)6/7|8|9|A|B/C/D/E/F

PY LAG Sls) Alain [PFO a/4
PO ZiBIR bir Ae) || )B 6

BHC SiclsiaRls MT Elsie

BS 4D Tdtia@), Tibi Pibls

BSE UW elujE Oo): ait | ie\u

PGF UP 0+)

U7 el aa | Ee

LCA es | Pulse fat a

SST ele le Ty

FHS RICK 4 8 lt |P EO)" |r

FO CILE LT Sipe JiFi¢im
R=] imi} Flea Avie l+
ane NS re tg fe at

4/7 oe Sb YP ol

 

oo or

C

 

0
0
0
0

0
CG-RAM
(1)

CG-RAM
(2)

CG-RAM
(3)

CG-RAM
(4)

CG-RAM
(5)

CG-RAM
(6)

CG-RAM
(7)

CG-RAM
(8)

CG-RAM
(1)

CG-RAM
(2)

CG-RAM |8
(3)

“G-RAM

(4)

CG-RAM
(5)

CG-RAM
(6)

RAM

(7)

CG-RAM
(8)

 

DB6
DBS
DB4

0

2

3

4

5

6

7

8

9

A

cc
B

C

D

E CC

F

 

 

Upper bits| DB7

Lower bits

 

DBO DB1 DB2 DB3

 

00 0 0

 

00 0 1

 

00 1 0

 

00 1 1

 

0 1 0 0

 

01 0 1

 

01 1 0

 

01 1 1

 

10 0 0

 

10 0 1

 

1 0 1 O

 

10 1 1

 

1 1 0 O

 

1 1 0 1

 

1 1 1 0

 

l

l

l

l

 

 

[11]
[12]
Tahle-?] Relationship between CG-RAM Addresses, Character Codexs(DD-RAM) and S++ 7

Dot Character Patiems (CG-RAM data)

(wih Cursor)

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

i
|

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Character Codes Character Patterns
(DD-RAM data) <G-RAM Adtciress (CG-RAM data)

D)/D|D;/D;JOJOO AITATAILAITATA OFOFOFO;O;oO; oO; oO
7T\/6/5/4])3]2]1 Sy473);2/1)0 FGETS 47,3); 2)14) 0
o;0)0 . 1>y2;3/)/4 15
oot sefestert & TF | 8 | 9 110
0o;1)0 . "E17 712)13) 14/15
olalolo ato ololo o;1)1 ° “P16 )17 1/18/19) 20
1);0/06 . "P27 )22 | 23 | 24/25
1}0)}1 . “726 [27 |) 26 | 29) 30
1}1)0 . "P31 732/33 | 34,35

q)4/4 ‘ oP 3G pee [ae | ae
oO} o}o eefeetest dd 2 ),3 |) 4) 5
0);0)1 . 6 | 7 | 8 10
o;1)0 - “Pid ]12/713 | 14/15
ololololelolo olo ly yt . "P16 )17)18)19)20
1);0)0 . E21 [22/23 | 24) 25
1);0) 1 . "P26 | 27 | 28 | 29) 30
1);1)0 . *P31 732/53) 34/355
1}4]1 eefeedest aa pee pee [ee pee
0);0)0 . 1]7,2];3/)4 75
o;o)4 eefeetert 6 17 16
0/0/00 )/O)}*)0]1 OyT Poot refeedest (1712/13) 14/15
el at o;41)4 . “P16 [17 118 | Tote
= aa aed
0\;0\;0/0 14) 1 1y1 gr}; 1;o}1 . *726 [27 |) 28 | 29) 30
1}1/0 . "P31 732 )33 | 34)355

1}1)1 . *} 236 .

 

 

 

Character
Pattem(1}

Character
Patterni(2}

 

[13]

 
Notes: 1. Character code bits 0 to 2 correspond to CG-RAM address bits 3 to 5 (3 bits : 8 types).

2. CG-RAM address bits 0 to 2 designate the character pattern line position. The 8th line is the
cursor position and its display is formed by a logical OR with the cursor. Maintain the 8th line
data, corresponding to the cursor display position, at O as the cursor display.

If bit 4 of the 8th line data is 1, 1 bit will light up the cursor regardless of the cursor presence.

3. Character pattern row positions correspond to CG-RAM data bits 0 to 4 (bit 4 being at the left).

4. As shown Table-11, CG-RAM character patterns are selected when character code bits 4 to 7
are all 0. However, since character code bit 3 has no effect, the R display example above can
be selected by either character code 00H or O8H.

5. 1 for CG-RAM data corresponds to display selection and 0 to non-selection.

"ee" Indicates no effect (Don't care)

5.2 Interfacing to the MPU
This VFD module can interface in either two 4-bit operations or one 8-bit operation, thus allowing
interfacing with 4- or 8-bit MPUs.

* For 4-bit interface data, only four bus lines (DB4 to DB7) are used for transfer. When to use 4-bit
parallel data transfer, DBO to DB3 keep "H" or "L". The data transfer between the VFD module and
the MPU is completed after the 4-bit data has been transferred twice. As for the order of data transfer
the four high order bits (for 8-bit operation, DB4 to DB7) are transferred before the four low order bits
(for 8-bit operation, DBO to DB3).

The busy flag (BF) are performed before transferring the higher 4 bits. BF checks are not required
before transferring the lower 4 bits.

 

RS
R/W

E
DB7 b7 ¥ D3 ce D7

DB6 Dé ¥ D2 ACG DG
DBS Ds D1 ACS 1 DS
DB4 D4 ¥ Do AC4 ACO D4

Character Code & Address Character
[

 

 

 

 

[14]
Fig-tl 4-Bit Transfer Example (M68)

* For 8-bit interface data, all eight bus lines (OBO to DB?) are used.

5.3 Transfer selecting
This is used to select the |/F mode: Serial or Parallel Transfer
Now you can operate the jumper “JP3”on the PCB board.
When “JP3"is short , Serial Data Transfer
When “JP3"is open, Parallel Transfer (default)

5.4 Other Jumper Setting

Some jumperare preparedonthe PCB board, toset operatingmode of the display module.
\ soldering iron is required to short jumper.

The jumper “JP1.1”and “JP1.2”are used to reset of module.

M0216MD-162MDBR2-J is n reset inputs from third hole of 14 though holes and M68 CPU bus
interface. Reset input signal is active when it is low.

The following table shows the function of JP1.1, JP1.2, JP2.

Table-12 jumper setting

JP2 JPl.1 | JP1.2 | FUNCTION
Open | Open | Open | M68 type
Short | Open | Open | 180 type

 

 

 

MPU type Selection

 

Open | Open | Pin #3:No connection

 

; , - - External Reset Section
x Short | Pin #3: /Reset signal input (Low Active)

Xx :Don’t care

 

 

 

 

 

 

 

[15]
6. INSTRUCTIONS

6.1 Outline

Nate :

Qnily the instruction register (IR) and the data register (DR) of the VFD controller can be controlled by
the user's MPU. Before starting the internal operation of the controller, control information is temporarily
stored into these registers to allow interfacing with various MPUs, which operate at different speeds, or
various peripheral contrel devices. The internal operation of the controller is determined by signals sent
from the MPU. These signals, which inelude register selection signal (RS), readAwrite signal (R/V), and
the data bus (DBO to DBT), make up the controller instructions (See Table 13). There are four categories
of instructions that:

** Designate controller functions, such as display format, data length, ete.
** Set internal RAM addresses

** Perform data transfer with internal RAM

** Perform miscellaneous functions

Normally, instructions that perform data transfer with internal RAM are used the most.

However, aute-incrementation by 1 (or autodecrementation by 1) of internal RAM addresses after each
data write can lighten the program load of the MPU. Since the display shift instruction can perform
eoncurrently with display data write, the user can minimize system development time with maximum
programming efficiency.

When an instruction is being executed for internal operation, no instruction other than the busy flag /
address read instruction can be executed. Because the busy flag is set fo 1 while an instruction is
being executed, check it to make sure itis 0 before sending another instruction from the MPU.

Be sure the controller is not in the busy state (BF = 0) before sending an instruction from the MPU
to the module. If an instruction is sent without checking the busy flag, the time between the first
instruction and next instruction will take much longer than the instruction time itself.

Refer to Table 13 for the list of each instruction execution time.

[16]
 

CODE

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Irestruch Descnpl
mens TRAV] DB? | D6 | DBs] OB4] 083] bB2| 0B1| DBO eee
Display Clear bye ;o);o);ayaya oO} 1 RAM aires 0 in addrcee ‘courtar,
Sets DDRAM address O n ACC.
.. |4lso retums the display being
Gisesr esr bye; o);oy;yayarya shifted to the original position. OD:
RAR contents remain unchanged.
Sets the Senay direction and
Spaces Asplay shitt.
Entry Mode Set 0 0 0 0 O 0 0 Wo) & These operations are
during wnlingeacing data.
Sets all display ON/OFF{D), cursor
HistayONOPF Fo }o}o}o}ofo)t | oo] c] B )ONOFFC), curser blink at
character position(B)
Cursor oF . | ae | bifts display or cursor, keeping
Display Shitt Bye, oO; o;, ay td Tse) Re DD-RAM ‘contents,
Sets data length{lF), number of
Function Set 0 0 0 0 1 IF No} -: |BR1| BRO tl ia Ro Sel brightness kel
CGRAM Address
Setting o}o}o}4 ACG Sats the CG-RAM address.
DDORAM Address
Setting iH) 0 1 ADD Sets the DD-RAM address.
Busy Flag & | Read busy flag(BF) and address
Address Reading D | | BF ACG counter (ACI
Data Writing to wi: Writes data into CG-RAM or
CG o DDRAM 1 | 0 Data writing DDRAM.
Data Reading from Reads data from CG-RAM or
coaporam |! | ! Data reading DDRAM.

 

 

 

[17]

 
 

CODE

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

 

Inestruch Desenph
mens TRAV] DB? | D6 | DBs] OB4] 083] bB2| 0B1| DBO eee
' Clears all displey and sets OD-
Display Clear bye ;o);o);ayaya 0 | 7 | RAM address 0 in address counter.
Ses DDRAM address 4 n ACC.
.. |4lso retums the display being
Gisesr esr bye; o);oy;yayarya shifted to the original position. OD:
RAM contents remain unchanged.
Sets the Senay direction and
Spaces Asplay shitt.
Entry Mode Set 0 0 0 0 O 0 0 lo} & These operations are
during wnlingeacing data.
Sets all display ON/OFF{D), cursor
HistayONOPF Fo }o}o}o}ofo)t | oo] c] B )ONOFFC), curser blink at
character position(B)
Cursor oF . | ae | bifts display or cursor, keeping
Display Shitt Bye, oO; o;, ay td Tse) Re DD-RAM ‘contents,
Sets data length{lF), number of
Function Set O 0 0 0 1 IF |] N | «: |BR1|) BRO tl a Ro Sel brightness kel
CGRAM Address
Setting op} o]/o]}1 ACG Sets the CG-RAM address.
DDRAM Address
Setting 0 0 1 ADD Sets the DD-RAM address.
Busy Flag & | Read busy flag/BF) and address
Address Reading D | | BF ACG counter (ACI
Data Writing to wi: Writes data into CG-RAM or
CG o DDRAM 1 | 0 Data writing DDRAM.
Data Reading from Reads data from CG-RAM or
coaporam |! | ! Data reading DDRAM.
6.2 Instruction Descriptions
6.2.1 Display Clear
DB7 DB6 OBS OB4 DB3 DB2 DBI DBO
| o | o | o | o | o | o {| o | 4 |] otH
RS =0, RIW= 0

This instruction

(1) Fills all locations in the display data RAM (DD-RAM) with 20H (Blank-character).
(2) Clears the contents of the address counter (ACC) to OOH.
(3) Sets the display for zero character shift (returns original position).
(4) Sets the address counter (ACC) to point to the DD-RAM.

(5) If the cursor is displayed, moves the cursor to the left most character in the top line (upper line).

(6) Sets the address counter (ACC) to increment on the each access of DD-RAM or CG-RAM.

[18]

 
6.2.2 Cursor Home

 

 

DB7 DB6 OBS O0B4 DB3 DB2 DBI DBO
} o | o | o | o | o | o | 4 | + | 02H to 03H
RS =0, RWe=O ** : Don't care

This instruction
(1) Clears the contents of the address counter (ACC) to OOH.

(2) Sets the address counter (ACC) to point to the DD-RAM.

(3) Sets the display for zero character shift (returns original position).

(4) If the cursor is displayed, moves the left most character in the top line (upper line).

6.2.3 Entry Mode Set

 

 

 

 

 

 

 

 

 

 

 

DB7 DB6 DBS DB4 DB3 DBZ DBI DBD
0 0 0 0 0 1 /D S 04H to O7H
RS = 0, RIW = 0

The |/2 bit selects the way in which the contents of the address counter (ACC) are modified after
every access to DD-RAM or CG-RAM.
1: The address counter (ACC) is incremented.
0 : The address counter (ACC) is decremented.

DB
D

The S bit enables display shift, instead of cursor shift, after each write or read to the DD-RAM.
St
S = 0: Cursor shift enabled.

1: Display shift enabled.

The direction in which the display is shifted is opposite in sense to that of the cursor.

For example, if S=O0 and I/D=1, the cursor would shift one character to the night after a MPU writes
to DD-RAM. However if S=1 and |/D=1, the display would shift one character to the left and the
cursor would maintain its position on the panel.

The cursor will already be shifted in the direction selected by I/D during reads of the DD-RAM,
irrespective of the value of S. Similarly reading and writing the CG-RAM always shift the cursor.
Also both lines are shifted simultaneously.

Table-14 Cursor move and Display shift by the "Entry Mode Set"

 

 

 

 

WD} S After writing DD-RAM data After reading DD-RAM data

QO | O |The cursor moves one character to the left. | The cursor moves one character to the left.
1 | O |The cursor moves one character to the right. | The cursor moves one character to the right.
oO] 4 The display shifts one character to the right The cursor moves one character to the left.

without cursors move.

 

 

 

 

The display shifts one character to the left
without cursors move.

 

The cursor moves one character to the right.

 

 

[19]
6.2.4 Display ON/OFF

DBF DB6 DBS DB4 ODB3 DB2 ODBi_ DBO
0 0 0 0 1 D Cc B 08H to OFH
RS =0, RiW=0

 

 

 

 

 

 

 

 

 

 

 

This instruction controls various features of the display.

DO = 1: Display on, D = 0: Display off.
C = 1: Cursor on, C = 0: Cursor off.
B = 1: Blinking on, B = 0°: Blinking off

(Blinking is achieved by alternating between a normal and all on display of a character.
The cursor blinks with a frequency of about 1.0 Hz and DUTY 50%.)

6.2.5 CursorDisplay Shift

DB7 DB6 DBS DB4 DB3 ODB2 DB1 DBO
0 0 0 | Sic RIL * ee 10H to 1FH
RS = 0, RW =0 ** : Don’t care

 

 

 

 

 

 

 

 

 

 

 

This instruction shifts the display and/or moves the cursor, one character to the left or right,
without reading or writing DD-RAM.

The S/C bit selects movement of the cursor or movement of both the cursor and the display.
SiC = 1: Shift both cursor and display
s/G = 0: Shift cursor only

The R/L bit selects left ward or right ward movement of the display and/or cursor.
R/L = 1: Shift one character right
R/L = 0 : Shift one character left

Table-f5 Cursor/Display shift

 

 

 

 

 

 

 

 

 

SIC | RIL Cursor shift Display shift

0 0 |Move one character to the left No shift

0 1 | Move one character to the right No shift

1 O |Shift one character to the left with display | Shift one character to the left
1 Shift one character to the right with display | Shift one character to the right

 

 

[20]
6.2.6 Function Set

DB7 DB6 DB5 ODOB4 DB3 DB2 OBi_ DBO
| o | o | 1 | © | N | + | BRI | BRO | 20H to 3FH
RS =0, RW =O -- : Don't care
This instruction sets width of data bus line.(when to use parallel interface. IM=1), the number of display

liné and brightness control.
This instruction initializes the system, and must be the first instruction executed after power-on.

 

 

The IF bit selects between an 8-bit or 4-bit bus width interface.

IF = 1° 8-bit CPU interface using DB? to DBO

IF = 0; 4-bit CPU interface using DB7 to DB4
The N bit selects between 1-line or 2-line display.

N= 1: Select 2 line display (Using anode output Al to A&O)

N= 0: Select 1 line display (Using anode output Al to A40. A417 to ASO fixed Low level.)
BR1, BRO flag is control to brightness of VFD to modulate pulse width of Anode output as follows.

BR1 BRO Brightness
0 0 100 %
0 1 75 %
1 0 50 %
1 1 25 %

6.2.7 Set CG-RAM Address
DB7 DB6 DBS DB4 DB3 DB2 DBI DBO

Q { ACG 40H to 7FH
RS =0, RIW=0

This instruction

(1) Load a new 6-bit address into the address counter (ACC).
(2) Sets the address counter (ACC) to address CG-RAM.

 

 

 

 

 

 

Once "Set CG-RAM Address" has been executed, the contents of the address counter (ACC) will be
automatically modified after every access of CG-RAM, as determined by the "Entry Mode Set" instruction.
The active width of the address counter (ACC), when it is addressing CG-RAM, is 6 bits, so the counter

will wrap around to OOH from 3FH if more than 64 bytes of data are written to CG-RAM.

[21]
6.2.8 Set DD-RAM Address
DB7 DB6 DB5 DB4 DB3 DB2 DB1 DBO
1 i | ADD
RS =0, RW=90

This instruction

(1) Loads a new /-bit address into the address counter (ACC).
(2) Sets the address counter (ACC) to point to the DD-RAM.

 

80H to ATH (1-Line)
COH to ETH (2-Line)

 

Onee the "Set DD-RAM Address” instruction has been executed, the contents of the address counter
(ACC) will be automatically modified after each access of DD-RAM, as selected by the "Entry Mode Set’

instruction.
Table-16 Valid DD-RAM address Kanges

 

 

 

) Number of Character Address Range
| ist line 40 00H to 27H
| 2nd line 40 40H to 67H

 

 

 

 

6.2.9 Read Busy Flag and Address

DBF DB6 DB5 DB4 ODB3 ODB2 ODBi_ DBO
BF ACC
RS =0. R/W= 1

 

 

 

 

 

Read busy flag and address reads the busy flag (BF) indicating that the system is now internally
operating on a previously received instruction. If BF is 1, the internal operation is in progress.
BF = 1: busy state
BF = 0°: ready for next instruction, command receivable.

The nextinstruction will not be accepted until BF is resetto 0. Check the BF status before the next
write operation. At the same time, the value of the address counter (ACC) in binary AAAAAAA is
read out. This address counter (ACC’ is used by both CG-RAM and DD-RAM addresses, and its value
is determined by the previous instruction. The address contents are the same as for instructions set
CG-RAM address and set DD-RAM address.

6.2.10 Write Data to CG or DD-RAM

DB7 DB6& DBS DB4 DB3 ODB2 ODBi_ OBO
Data Write 00H to FFH

 

 

 

 

RS =1, RWe=dO
This instruction writes 8-bit binary data (DB? to DBO) into CG-RAM or DD-RAM.
To write into CG-RAM or DD-RAM is determined by the previous specification of the CG-RAM or
DD-RAM address setting. After a write, the address is automatically incremented or decremented by 1

according to the entry mode. The entry mode also determines the display shift.
When data is written to the CG-RAM, the DB7, DB6 and DBS bits are not displayed as characters.

[22]
Note :

6.2.11 Read Data from CG or DD-RAM

DBF DB6 DB5 DB4 ODB3 DB2 ODBi_ OBO
Data Read

 

 

 

 

RS =1, RIW=1
This instruction reads 85-bit binary data (DB7 to DBO) from CG-RAM or DD-RAM.

The previous designation determines whether CG-RAM or DD-RAM is to be read.

Before entering this read instruction, either CG-RAM or DD-RAM address set instruction must be
executed. If not executed, the first read data will be invalid. When serially executing read instructions,
the next address data is normally read from the second read. The address set instructions need not
be executed just before this read instruction when shifting the cursor by the curser shift instruction
(when reading out DD-RAM),

The operation of the cursor shift instruction is the same as the set DD-RAM address instruction.

After a read, the entry mode automatically increases or decreases the address by 1.

The address counter (ACC) is automatically incremented or decremented by 1 after the write instructions
to CG-RAM or DD-RAM are executed. The RAM data selected by the ACC cannot be read out at this
time even if read instructions are executed. Therefore, to correctly read data, execute either the address
set instruction or cursor shift instruction (only with DD-RAM), then just before reading the desired data,
execute the read instruction from the second time the read instruction is sent.

[23]
T.OPERATING RECOMMENDATIONS

7.1 Avoid applying excessive shack or vibration beyond the specification for the YFD module.

7.2 Since YVFDs are made of glass material, careful handling is required.
.¢. Direct impact with hard material to the glass surface(especially exhaust tip) may crack
the glass.

7.3 When mounting the YVFD module to your system, leave a slight gap between the VFD glass
and your front panel.
The module should be mounted without stress to avoid flexing of the PCB.

7.4 Avoid plugging or unplugging the interface connection with the power on, otherwise it may
cause the severe damage to input circuitry.

7.5 Slow starting power supply may cause non-operation because one chip micom won't be reset.

7.6 Exceeding any of maximum ratings may cause the permanent damage.

7. Since the YVFD modules contain high voltage source, careful handling is required during
powered on.

7.6 When the power is turned off, the capacitar does not discharge immediately.
The high voltage applied to the YVFD must not contact to the ICs. And the short-circuit of
mounted components on PCB within 20 seconds after power-off may cause damage to those.

7.9 The power supply must be capable of providing at least 3 times the rated current, because
the surge current can be more than 3 times the specified current consumption when the
power is turned on.

7.10 Avoid using the module where excessive noise interference is expected. Noise may affects
the interface signal and causes improper operation. And it is important to keep the length of
the interface cable less than 50cm.

7.11 Since all VFB modules contain C-MOS ICs, anti-static hancling procedures are always required.

NOTE:

Information in this document is provided solely in connection with Newhaven Display products. Newhaven
Display reserves the right to make changes, corrections, modifications or improvements to this document
and the products described herein at any time without notice.

All Newhaven Display products are sold pursuant to Newhaven Display terms and conditions of sale.
Purchasers are solely responsible for the choice, selection or use of the Newhaven Display products and
services described herein and Newhaven Display assumes no liability whatsoever relating to the choice,
selection or use of the Newhaven Display products and services described herein. No license, express or
implied by estoppel or otherwise to any intellectual property rights is granted under this document.

[24]
